{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./smooth/smooth.js","webpack:///./src/smoothing-worker.ts"],"names":["wasm_bindgen","__exports","wasm","heap","Array","fill","undefined","push","getObject","idx","heap_next","length","dropObject","takeObject","ret","cachedTextDecoder","TextDecoder","ignoreBOM","fatal","decode","cachegetUint8Memory0","getUint8Memory0","buffer","memory","Uint8Array","getStringFromWasm0","ptr","len","subarray","addHeapObject","obj","isLikeNone","x","cachegetFloat64Memory0","getFloat64Memory0","Float64Array","cachegetInt32Memory0","getInt32Memory0","Int32Array","initialize","width","height","stack_pointer","addBorrowedObject","Error","smooth","input_frame","getMedianSmoothed","getThresholded","getHeatStats","HeatStats","__wrap","getRadialSmoothed","WASM_VECTOR_LEN","cachedTextEncoder","TextEncoder","encodeString","encodeInto","arg","view","buf","encode","set","read","written","passStringToWasm0","malloc","realloc","mem","offset","code","charCodeAt","slice","Object","create","prototype","free","__wbg_heatstats_free","min","__wbg_get_heatstats_min","arg0","__wbg_set_heatstats_min","max","__wbg_get_heatstats_max","__wbg_set_heatstats_max","threshold","__wbg_get_heatstats_threshold","__wbg_set_heatstats_threshold","load","module","imports","Response","WebAssembly","instantiateStreaming","e","headers","get","console","warn","bytes","arrayBuffer","instantiate","instance","Instance","init","input","src","document","location","href","currentScript","replace","wbg","__wbindgen_object_drop_ref","__wbindgen_string_new","arg1","__wbg_debug_ef2b78738889619f","debug","__wbg_error_7dcc755846c00ef7","error","__wbg_info_43f70b84e943346e","info","__wbg_log_61ea781bd002cc41","log","__wbg_warn_502e53bc79de489a","__wbg_new_59cb74e423758ede","__wbg_stack_558ba5917b466edd","stack","ptr0","__wbindgen_malloc","__wbindgen_realloc","len0","__wbg_error_4bb6c2a97407129a","__wbindgen_free","__wbg_buffer_88f603259d7a7b82","__wbg_newwithbyteoffsetandlength_a048d126789a272b","arg2","__wbg_newwithbyteoffsetandlength_66305c055ad2f047","Float32Array","__wbg_length_5ed9637f0c91cf31","__wbg_new_97dfb1e289e6c216","__wbg_set_02fc6472d777f843","__wbindgen_number_get","__wbindgen_throw","__wbindgen_memory","Request","URL","fetch","exports","__wbindgen_wasm_module","assign"],"mappings":"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","file":"5049d122c24fb440a022.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"8ae3\");\n","let wasm_bindgen;\n(function() {\n    const __exports = {};\n    let wasm;\n\n    const heap = new Array(32).fill(undefined);\n\n    heap.push(undefined, null, true, false);\n\nfunction getObject(idx) { return heap[idx]; }\n\nlet heap_next = heap.length;\n\nfunction dropObject(idx) {\n    if (idx < 36) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nlet cachedTextDecoder = new TextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nlet cachegetUint8Memory0 = null;\nfunction getUint8Memory0() {\n    if (cachegetUint8Memory0 === null || cachegetUint8Memory0.buffer !== wasm.memory.buffer) {\n        cachegetUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachegetUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nfunction isLikeNone(x) {\n    return x === undefined || x === null;\n}\n\nlet cachegetFloat64Memory0 = null;\nfunction getFloat64Memory0() {\n    if (cachegetFloat64Memory0 === null || cachegetFloat64Memory0.buffer !== wasm.memory.buffer) {\n        cachegetFloat64Memory0 = new Float64Array(wasm.memory.buffer);\n    }\n    return cachegetFloat64Memory0;\n}\n\nlet cachegetInt32Memory0 = null;\nfunction getInt32Memory0() {\n    if (cachegetInt32Memory0 === null || cachegetInt32Memory0.buffer !== wasm.memory.buffer) {\n        cachegetInt32Memory0 = new Int32Array(wasm.memory.buffer);\n    }\n    return cachegetInt32Memory0;\n}\n/**\n* @param {any} width\n* @param {any} height\n*/\n__exports.initialize = function(width, height) {\n    wasm.initialize(addHeapObject(width), addHeapObject(height));\n};\n\nlet stack_pointer = 32;\n\nfunction addBorrowedObject(obj) {\n    if (stack_pointer == 1) throw new Error('out of js stack');\n    heap[--stack_pointer] = obj;\n    return stack_pointer;\n}\n/**\n* @param {Float32Array} input_frame\n*/\n__exports.smooth = function(input_frame) {\n    try {\n        wasm.smooth(addBorrowedObject(input_frame));\n    } finally {\n        heap[stack_pointer++] = undefined;\n    }\n};\n\n/**\n* @returns {Float32Array}\n*/\n__exports.getMedianSmoothed = function() {\n    var ret = wasm.getMedianSmoothed();\n    return takeObject(ret);\n};\n\n/**\n* @returns {Uint8Array}\n*/\n__exports.getThresholded = function() {\n    var ret = wasm.getThresholded();\n    return takeObject(ret);\n};\n\n/**\n* @returns {HeatStats}\n*/\n__exports.getHeatStats = function() {\n    var ret = wasm.getHeatStats();\n    return HeatStats.__wrap(ret);\n};\n\n/**\n* @returns {Float32Array}\n*/\n__exports.getRadialSmoothed = function() {\n    var ret = wasm.getRadialSmoothed();\n    return takeObject(ret);\n};\n\nlet WASM_VECTOR_LEN = 0;\n\nlet cachedTextEncoder = new TextEncoder('utf-8');\n\nconst encodeString = (typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n}\n    : function (arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n});\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length);\n        getUint8Memory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len);\n\n    const mem = getUint8Memory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3);\n        const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n\n        offset += ret.written;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n/**\n*/\nclass HeatStats {\n\n    static __wrap(ptr) {\n        const obj = Object.create(HeatStats.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    free() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        wasm.__wbg_heatstats_free(ptr);\n    }\n    /**\n    * @returns {number}\n    */\n    get min() {\n        var ret = wasm.__wbg_get_heatstats_min(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set min(arg0) {\n        wasm.__wbg_set_heatstats_min(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get max() {\n        var ret = wasm.__wbg_get_heatstats_max(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set max(arg0) {\n        wasm.__wbg_set_heatstats_max(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get threshold() {\n        var ret = wasm.__wbg_get_heatstats_threshold(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set threshold(arg0) {\n        wasm.__wbg_set_heatstats_threshold(this.ptr, arg0);\n    }\n}\n__exports.HeatStats = HeatStats;\n\nasync function load(module, imports) {\n    if (typeof Response === 'function' && module instanceof Response) {\n\n        if (typeof WebAssembly.instantiateStreaming === 'function') {\n            try {\n                return await WebAssembly.instantiateStreaming(module, imports);\n\n            } catch (e) {\n                if (module.headers.get('Content-Type') != 'application/wasm') {\n                    console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\n                } else {\n                    throw e;\n                }\n            }\n        }\n\n        const bytes = await module.arrayBuffer();\n        return await WebAssembly.instantiate(bytes, imports);\n\n    } else {\n\n        const instance = await WebAssembly.instantiate(module, imports);\n\n        if (instance instanceof WebAssembly.Instance) {\n            return { instance, module };\n\n        } else {\n            return instance;\n        }\n    }\n}\n\nasync function init(input) {\n    if (typeof input === 'undefined') {\n        let src;\n        if (typeof document === 'undefined') {\n            src = location.href;\n        } else {\n            src = document.currentScript.src;\n        }\n        input = src.replace(/\\.js$/, '_bg.wasm');\n    }\n    const imports = {};\n    imports.wbg = {};\n    imports.wbg.__wbindgen_object_drop_ref = function(arg0) {\n        takeObject(arg0);\n    };\n    imports.wbg.__wbindgen_string_new = function(arg0, arg1) {\n        var ret = getStringFromWasm0(arg0, arg1);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_debug_ef2b78738889619f = function(arg0) {\n        console.debug(getObject(arg0));\n    };\n    imports.wbg.__wbg_error_7dcc755846c00ef7 = function(arg0) {\n        console.error(getObject(arg0));\n    };\n    imports.wbg.__wbg_info_43f70b84e943346e = function(arg0) {\n        console.info(getObject(arg0));\n    };\n    imports.wbg.__wbg_log_61ea781bd002cc41 = function(arg0) {\n        console.log(getObject(arg0));\n    };\n    imports.wbg.__wbg_warn_502e53bc79de489a = function(arg0) {\n        console.warn(getObject(arg0));\n    };\n    imports.wbg.__wbg_new_59cb74e423758ede = function() {\n        var ret = new Error();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_stack_558ba5917b466edd = function(arg0, arg1) {\n        var ret = getObject(arg1).stack;\n        var ptr0 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len0;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n    };\n    imports.wbg.__wbg_error_4bb6c2a97407129a = function(arg0, arg1) {\n        try {\n            console.error(getStringFromWasm0(arg0, arg1));\n        } finally {\n            wasm.__wbindgen_free(arg0, arg1);\n        }\n    };\n    imports.wbg.__wbg_buffer_88f603259d7a7b82 = function(arg0) {\n        var ret = getObject(arg0).buffer;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_newwithbyteoffsetandlength_a048d126789a272b = function(arg0, arg1, arg2) {\n        var ret = new Uint8Array(getObject(arg0), arg1 >>> 0, arg2 >>> 0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_newwithbyteoffsetandlength_66305c055ad2f047 = function(arg0, arg1, arg2) {\n        var ret = new Float32Array(getObject(arg0), arg1 >>> 0, arg2 >>> 0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_length_5ed9637f0c91cf31 = function(arg0) {\n        var ret = getObject(arg0).length;\n        return ret;\n    };\n    imports.wbg.__wbg_new_97dfb1e289e6c216 = function(arg0) {\n        var ret = new Float32Array(getObject(arg0));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_set_02fc6472d777f843 = function(arg0, arg1, arg2) {\n        getObject(arg0).set(getObject(arg1), arg2 >>> 0);\n    };\n    imports.wbg.__wbindgen_number_get = function(arg0, arg1) {\n        const obj = getObject(arg1);\n        var ret = typeof(obj) === 'number' ? obj : undefined;\n        getFloat64Memory0()[arg0 / 8 + 1] = isLikeNone(ret) ? 0 : ret;\n        getInt32Memory0()[arg0 / 4 + 0] = !isLikeNone(ret);\n    };\n    imports.wbg.__wbindgen_throw = function(arg0, arg1) {\n        throw new Error(getStringFromWasm0(arg0, arg1));\n    };\n    imports.wbg.__wbindgen_memory = function() {\n        var ret = wasm.memory;\n        return addHeapObject(ret);\n    };\n\n    if (typeof input === 'string' || (typeof Request === 'function' && input instanceof Request) || (typeof URL === 'function' && input instanceof URL)) {\n        input = fetch(input);\n    }\n\n    const { instance, module } = await load(await input, imports);\n\n    wasm = instance.exports;\n    init.__wbindgen_wasm_module = module;\n\n    return wasm;\n}\n\nwasm_bindgen = Object.assign(init, __exports);\n\n})();\nexport default wasm_bindgen;\n","import wasm_bindgen from \"../smooth/smooth\";\nconst {\n  initialize,\n  getMedianSmoothed,\n  getRadialSmoothed,\n  getThresholded,\n  getHeatStats,\n  smooth\n} = wasm_bindgen as any;\nconst ctx: Worker = self as any;\n(async function run() {\n  // NOTE: The wasm file needs to be in the public folder so that it can be resolved at runtime,\n  //  since webpacks' web-worker loader doesn't seem to be able to resolve wasm inside workers.\n\n  await wasm_bindgen(`${process.env.BASE_URL}smooth_bg.wasm`);\n  let inited = false;\n  ctx.addEventListener(\"message\", async event => {\n    const { frame, width, height } = event.data;\n    if (!inited) {\n      initialize(width, height);\n      inited = true;\n    }\n    smooth(frame);\n    const medianSmoothed = getMedianSmoothed();\n    const radialSmoothed = getRadialSmoothed();\n    const thresholded = getThresholded();\n    const { threshold, min, max } = getHeatStats();\n    ctx.postMessage({\n      medianSmoothed,\n      radialSmoothed,\n      thresholded,\n      threshold,\n      min,\n      max\n    });\n    return;\n  });\n})();\n"],"sourceRoot":""}